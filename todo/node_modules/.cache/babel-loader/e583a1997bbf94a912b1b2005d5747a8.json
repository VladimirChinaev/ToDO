{"ast":null,"code":"import _regeneratorRuntime from\"/home/user/Desktop/ToDO/todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/user/Desktop/ToDO/todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/user/Desktop/ToDO/todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"../css/style.css\";import{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var API_GET_TODOS=\"https://back-end-api-1.herokuapp.com/api/todos\";var StateButton=function StateButton(_ref){var todo=_ref.todo,removeItem=_ref.removeItem,changeStatus=_ref.changeStatus,getTodos=_ref.getTodos;var _useState=useState(todo.name),_useState2=_slicedToArray(_useState,2),currentTitle=_useState2[0],setCurrentTitle=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showInput=_useState4[0],setShowInput=_useState4[1];var editItem=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e,currentTitle){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(!(e.keyCode===13)){_context.next=6;break;}_context.next=4;return axios.patch(API_GET_TODOS+\"/\".concat(todo.uuid),{name:currentTitle,done:todo.done===\"done\"?\"done\":\"undone\"});case 4:e.target.blur();setShowInput(false);case 6:if(e.keyCode===27){e.target.blur();setShowInput(false);setCurrentTitle(todo.name);}getTodos();_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);alert(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function editItem(_x,_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"todoElement\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inElement\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"buttonComplete\",defaultChecked:todo.done===true?true:false,onClick:function onClick(){changeStatus(todo);}}),!showInput?/*#__PURE__*/_jsx(\"span\",{onDoubleClick:function onDoubleClick(){return setShowInput(true);},children:currentTitle}):/*#__PURE__*/_jsx(\"input\",{value:currentTitle,onKeyDown:function onKeyDown(e){return editItem(e,currentTitle,todo.uuid);},className:\"sideInput\",onChange:function onChange(e){return setCurrentTitle(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inElement\",children:[/*#__PURE__*/_jsx(\"div\",{children:new Date(Date.parse(todo.updatedAtt)).toLocaleString()}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"\\uD83D\\uDDD1\",className:\"buttonDelete\",onClick:function onClick(){removeItem(todo.uuid);}})]})]})},todo.uuid);};export default StateButton;","map":{"version":3,"sources":["/home/user/Desktop/ToDO/todo/src/TodoList/StateButtons.jsx"],"names":["useState","axios","API_GET_TODOS","StateButton","todo","removeItem","changeStatus","getTodos","name","currentTitle","setCurrentTitle","showInput","setShowInput","editItem","e","keyCode","patch","uuid","done","target","blur","console","log","alert","value","Date","parse","updatedAtt","toLocaleString"],"mappings":"sbAAA,MAAO,kBAAP,CACA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFACA,GAAMC,CAAAA,aAAa,CAAG,gDAAtB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAkD,IAA/CC,CAAAA,IAA+C,MAA/CA,IAA+C,CAAzCC,UAAyC,MAAzCA,UAAyC,CAA7BC,YAA6B,MAA7BA,YAA6B,CAAfC,QAAe,MAAfA,QAAe,CAClE,cAAwCP,QAAQ,CAACI,IAAI,CAACI,IAAN,CAAhD,wCAAOC,YAAP,eAAqBC,eAArB,eACA,eAAkCV,QAAQ,CAAC,KAAD,CAA1C,yCAAOW,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,QAAQ,2FAAG,iBAAOC,CAAP,CAAUL,YAAV,uIAELK,CAAC,CAACC,OAAF,GAAc,EAFT,gDAGCd,CAAAA,KAAK,CAACe,KAAN,CAAYd,aAAa,YAAOE,IAAI,CAACa,IAAZ,CAAzB,CAA6C,CAC/CT,IAAI,CAAEC,YADyC,CAE/CS,IAAI,CAAEd,IAAI,CAACc,IAAL,GAAc,MAAd,CAAuB,MAAvB,CAAgC,QAFS,CAA7C,CAHD,QAOLJ,CAAC,CAACK,MAAF,CAASC,IAAT,GACAR,YAAY,CAAC,KAAD,CAAZ,CARK,OAUT,GAAIE,CAAC,CAACC,OAAF,GAAc,EAAlB,CAAsB,CAClBD,CAAC,CAACK,MAAF,CAASC,IAAT,GACAR,YAAY,CAAC,KAAD,CAAZ,CACAF,eAAe,CAACN,IAAI,CAACI,IAAN,CAAf,CACH,CACDD,QAAQ,GAfC,iFAiBTc,OAAO,CAACC,GAAR,cACAC,KAAK,aAAL,CAlBS,qEAAH,kBAARV,CAAAA,QAAQ,iDAAd,CAsBA,mBACI,kCACI,aAAK,SAAS,CAAC,aAAf,wBACI,aAAK,SAAS,CAAC,WAAf,wBACI,cACI,IAAI,CAAC,UADT,CAEI,SAAS,CAAC,gBAFd,CAGI,cAAc,CAAET,IAAI,CAACc,IAAL,GAAc,IAAd,CAAqB,IAArB,CAA4B,KAHhD,CAII,OAAO,CAAE,kBAAM,CACXZ,YAAY,CAACF,IAAD,CAAZ,CACH,CANL,EADJ,CASK,CAACO,SAAD,cACG,aAAM,aAAa,CAAE,+BAAMC,CAAAA,YAAY,CAAC,IAAD,CAAlB,EAArB,UACKH,YADL,EADH,cAKG,cACI,KAAK,CAAEA,YADX,CAEI,SAAS,CAAE,mBAACK,CAAD,QACPD,CAAAA,QAAQ,CAACC,CAAD,CAAIL,YAAJ,CAAkBL,IAAI,CAACa,IAAvB,CADD,EAFf,CAKI,SAAS,CAAC,WALd,CAMI,QAAQ,CAAE,kBAACH,CAAD,QAAOJ,CAAAA,eAAe,CAACI,CAAC,CAACK,MAAF,CAASK,KAAV,CAAtB,EANd,EAdR,GADJ,cAyBI,aAAK,SAAS,CAAC,WAAf,wBACI,qBACK,GAAIC,CAAAA,IAAJ,CAASA,IAAI,CAACC,KAAL,CAAWtB,IAAI,CAACuB,UAAhB,CAAT,EAAsCC,cAAtC,EADL,EADJ,cAII,cACI,IAAI,CAAC,QADT,CAEI,KAAK,CAAC,cAFV,CAGI,SAAS,CAAC,cAHd,CAII,OAAO,CAAE,kBAAM,CACXvB,UAAU,CAACD,IAAI,CAACa,IAAN,CAAV,CACH,CANL,EAJJ,GAzBJ,GADJ,EAAUb,IAAI,CAACa,IAAf,CADJ,CA2CH,CArED,CAuEA,cAAed,CAAAA,WAAf","sourcesContent":["import \"../css/style.css\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nconst API_GET_TODOS = \"https://back-end-api-1.herokuapp.com/api/todos\";\n\nconst StateButton = ({ todo, removeItem, changeStatus, getTodos }) => {\n    const [currentTitle, setCurrentTitle] = useState(todo.name);\n    const [showInput, setShowInput] = useState(false);\n\n    const editItem = async (e, currentTitle) => {\n        try {\n            if (e.keyCode === 13) {\n                await axios.patch(API_GET_TODOS + `/${todo.uuid}`, {\n                    name: currentTitle,\n                    done: todo.done === \"done\" ? \"done\" : \"undone\",\n                });\n                e.target.blur();\n                setShowInput(false);\n            }\n            if (e.keyCode === 27) {\n                e.target.blur();\n                setShowInput(false);\n                setCurrentTitle(todo.name);\n            }\n            getTodos();\n        } catch (err) {\n            console.log(err);\n            alert(err);\n        }\n    };\n\n    return (\n        <div key={todo.uuid}>\n            <div className=\"todoElement\">\n                <div className=\"inElement\">\n                    <input\n                        type=\"checkbox\"\n                        className=\"buttonComplete\"\n                        defaultChecked={todo.done === true ? true : false}\n                        onClick={() => {\n                            changeStatus(todo);\n                        }}\n                    />\n                    {!showInput ? (\n                        <span onDoubleClick={() => setShowInput(true)}>\n                            {currentTitle}\n                        </span>\n                    ) : (\n                        <input\n                            value={currentTitle}\n                            onKeyDown={(e) =>\n                                editItem(e, currentTitle, todo.uuid)\n                            }\n                            className=\"sideInput\"\n                            onChange={(e) => setCurrentTitle(e.target.value)}\n                        />\n                    )}\n                </div>\n                <div className=\"inElement\">\n                    <div>\n                        {new Date(Date.parse(todo.updatedAtt)).toLocaleString()}\n                    </div>\n                    <input\n                        type=\"button\"\n                        value=\"ðŸ—‘\"\n                        className=\"buttonDelete\"\n                        onClick={() => {\n                            removeItem(todo.uuid);\n                        }}\n                    />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default StateButton;\n"]},"metadata":{},"sourceType":"module"}